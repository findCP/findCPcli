language: python
python:
- '3.7'
cache: pip
install:
- pip install -r requirements.txt

script:
- bash test.sh
- sonar-scanner

addons:
  sonarcloud:
    organization: findCP_findCPcli
    token:
      secure: mO3j/RgiUVAZVyAI7jbYzz5AI9sPVAb1lwKxAbOML7sWSXS5q95rTZoysAutfPUuk3VHnQjzYtjEpftcQ34Yx5GKgyaV6CfOCeqSrqDD3xf5xPDiNdRf4J+aqWl1pHpvNLPJafYqJ9aP/27SndvndBRK7a7hGFE+oaPhq5lDQnIH+/RTL1TJZk3lLytrnDKDAdS3u1joqi3Hh3xgZDj4UmmRN34btPL3t7HipPSYfbyTGo0iYyNVqK7Lloa4KH/diBxnPHOoHUeK6i787WSrd5gHsFdpgDgks7PRlwuxHyWqguQmgiPAmf6dHdLnVdCi6ZuYYQYyuHTEKG090qF6aE6d7OLmio37IuenOUVnXhpBHSSBuAeYS7Z+udnWiARrPLekK3QlzHSFGY1YTsOeqEwe0p5Gt0QbWX6OL8w0qWVvDh0KgbSDj9NWWcq9YXkUKTtEKAZjnNmQVY4HvtXiN0o3f86aPhWTh6g5CBvNepuUK0uGt/l6Q5Ul5yCC1Qbu+pBxV9ybQsjWoC7xcjXrXbERg4YuiZS20pSPljUJXvEaj/TVs/z+0yhHOw4RR2OHMUhWS1cFYaNhkIX714DyZKWANE4YfM+Vd31574TyujpNAQUzFDtUOHI+hhAv5luCUlbdEL/TbqKliSRF+MBXDzI29xMBsmJyeKf0y5+q+8Y=

deploy:
  provider: pypi
  username: "__token__"
  secure: pnM12XHme+YrdoZaUn0HnABgaph75wa4zOK7eIxaLnyjwWA3MBNpuj8nbR/Lum3kYsk4MHuBu4uT16O/xAuJSPyeYlolbzPfRE2sGFtfeUgfghJIIBS+j6uhtoEPRdOjVx6oAch1X9cauSE+gtWyX8NLrQk5nYM/sLxQON1vl2Z++6sNWZXmJeY7FJyc2RHh4w0jzpcuDOFiy/JjYjnwcjuB742grZHMboODg3zW8zUf7K6StT9yb2Fq3el3+EMVUKeJfIQo2aNuFQY6jAPqG1Pk7m+fvtqF1tu0OOJvyQHPtBgDqXKj57vXj4rU47Ub5Ub7X0pbFDPQ6Ih8HHTzAxZ0s9deI1AMh48+n/4BIM80P5RsoPeMdWy2D2D4oO7sREn0aIJs+wVLmcVBQ8HTcAMU+TniHmJH9zxMU0GnJhWOLwMKULjs+DV88ZXDp3SSAfIjLS7AIhz+0EVFmsrN2n26nJ2JhdUhBx4/ftjtedsfpCsSMRDm24V+mue24ZdUwuxeSOoXeLGiP2Tvjy/t/YwBgP1+x/LFF6gmVMyFymMyFOLNuiZXCmr2EU+UquhGddk3pBLW6EZ4bDXTLEdVd104D0CBG6ATjEvceFxqb8YfbnT0S1EGH30tUoHP2woDZpdn5bQ5mIq3FcgD0wi5e6sxzalYxkXyhIkBmX8erK0=
  on:
    tags: true
